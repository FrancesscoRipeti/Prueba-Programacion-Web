{% extends 'base.html' %}
{% load static %}

{% block title %}
<title>Nosotros</title>
{% endblock %}

{% block content %}
<section>
    <div class="container-fluid">
        <div class="row justify-content-center">
            <!-- Main Content -->
            <div class="col-sm-8">
                <div class="gran-container-tienda" id="container-tienda_2">
                    <div class="contenido-tienda" id="lista1">
                        {% for prod in productos %}
                        <div class="box-item-tienda">
                            <img src="{{ prod.imagen.url }}" id="img-carrito-test" alt="{{ prod.nombre }}">
                            <div class="content-txt">
                                <h3>{{ prod.nombre }}</h3>
                                <p>{{ prod.descripcion }}</p>
                                <p class="precio">${{ prod.precio }}</p>
                                <p class="categoria">Categoría: {{ prod.categoria.nombre }}</p>
                                <a href="#" class="agregar-carrito btn-3" data-id="{{ prod.id }}">AGREGAR AL CARRITO</a>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section>
    <div class="modal fade" id="modalResumenCarrito" tabindex="-1" aria-labelledby="modalResumenCarritoLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalResumenCarritoLabel">Resumen del Carrito</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <table class="table" id="resumen-carrito">
                        <thead>
                            <tr>
                                <th>Producto</th>
                                <th>Cantidad</th>
                                <th>Precio</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                    <h5>Total: <span id="resumen-total-precio"></span></h5>
                    <form id="formularioPago">
                        <div class="mb-3">
                            <label for="nombre" class="form-label">Nombre</label>
                            <input type="text" class="form-control" id="nombre" required>
                        </div>
                        <div class="mb-3">
                            <label for="direccion" class="form-label">Dirección</label>
                            <input type="text" class="form-control" id="direccion" required>
                        </div>
                        <div class="mb-3">
                            <label for="telefono" class="form-label">Teléfono</label>
                            <input type="tel" class="form-control" id="telefono" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Confirmar Pago</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}